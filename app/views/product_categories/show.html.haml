.b-product-category
  %h3 #{ resource.title } (#{ resource.published_products_count })

  .b-filters
    = form_tag([resource], method: :get, class: 'filter-products-form') do
      = hidden_field_tag 'brand_id', params[:brand_id], class: 'filter-by-brand'
      = hidden_field_tag 'sort_by', params[:sort_by], class: 'filter-by-show'

    .b-filter-brands
      %ul.brands
        %span= t('brands')
        %li.active= link_to t('all_brands'), '#', data: { id: 0 }
        = render partial: 'product_categories/includes/brand', collection: @brands, as: :brand

    .b-filter-show
      %ul.show
        %span= t('show')
        %li.active= link_to t('popular'), '#', data: { sort_by: 'popular' }
        %li= link_to t('new_products'), '#', data: { sort_by: 'new_products' }
        %li
          %i.reduction
          = link_to t('product_price'), '#', data: { sort_by: 'price_reduction' }
        %li
          %i.increase
          = link_to t('product_price'), '#', data: { sort_by: 'price_increase' }

  .b-products
    = render partial: 'product_categories/includes/product', collection: @products, as: :product

= will_paginate @products
